/*! project3 2018-06-25 */

function Button(t){this.my_enigma=$(t),console.log("start button");for(var e=0;e<=25;e++)this.configure(e);this.ResetConfigure()}function parse_json(e){try{var t=$.parseJSON(e)}catch(t){throw"JSON parse error: "+e}return t}Button.prototype.ResetConfigure=function(){$("body").find('input[name="reset"]').click(function(t){t.preventDefault(),$.ajax({url:"post/post.php",data:{reset:"Reset"},method:"POST",success:function(t){var e=parse_json(t);$(".abc").html(e.body),$(".cba").html(e.rotor)},error:function(t,e,o){that.message("<p>Error: "+o+"</p>")}})})},Button.prototype.configure=function(t){var o=$(this.my_enigma.find("button").get(t));o.children("span").css("color","white");var n=this;o.click(function(t){t.preventDefault()}),o.mousedown(function(t){t.preventDefault(),o.children("span").css("color","red");var e=o.val();console.log(o.val()),$.ajax({url:"post/post.php",data:{key:e},method:"POST",success:function(t){var e=parse_json(t);$(".abc").html(e.body),$(".cba").html(e.rotor)},error:function(t,e,o){n.message("<p>Error: "+o+"</p>")}})}),o.mouseup(function(t){t.preventDefault(),o.children("span").css("color","white")})},Button.prototype.message=function(t){var e=$(this.my_enigma+" .message");e.show(),e.html(t),e.delay(2e3).fadeOut(1e3)};